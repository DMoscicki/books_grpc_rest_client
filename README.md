## Примеры запросов
1. `http://localhost:8081/name?v=Довлатов`
`name` - указывает что мы хотим получить произведения, которые написал Довлатов
`v` - значение по которому мы хотим получить результат
В данном примере мы хотим получить список книг автор которых является Довлатов

2. `http://localhost:8081/author?v=Война и мир`
`author` - указывает что мы хотим получить автора
`v` - значение по которому мы ищем автора
Иными словами, мы ищем автора произведения `Война и мир`

## Запуск

1. Вбить команду в терминал `git clone https://github.com/DMoscicki/books_grpc.git`
2. Из корневой директории проект (для этого необходимо выполнить команду `cd books_grpc`) выполнить в терминале `make build`, а затем `make run`
3. Для остановки программ используйте команду `make stop`

### Важно!!!
Сервер будет пинговать подключение к БД, и пока БД не поднято сервер будет автоматически перезапускаться и из-за этого будут сыпаться логи ошибок из контейнера server. Просто ожидайте.

## Тестирование

1. Тестирование сервера и клиента осуществляется командой `make testall`
2. Тестирование клиента `make testclient`
3. Тестирование сервера `make testserver`

## БД
Для создания Бэкапа БД необходимо выполнить команду `make dbbackup`, данный образ также будет являться инитом для поднятия БД в контейнере. Не используйте данную команду если контейнер c бд не поднят, иначе дамп будет пустой. 


## Логи
1. `make logsclient` выведет логи по контейнеру client
2. `make logsserver` вывыведет логи по контейнеру server
3. `make logsdb` выведет логи по БД
4. `make logsall` будет выводить логи по всему контейнерам

## Прочее
Компиляция протобуферов осуществляется через команду `protoc` в случае каких либо ошибок, переходите по данной ссылке https://grpc.io/docs/languages/go/quickstart/ на официальную документацию по grpc 